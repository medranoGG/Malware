.data
    file:  .string "/etc/passwd"
    buffer:.space 100

.bss
    fd:    .skip 4

.text

.globl _start

_start:

    # Abrir el archivo
    movl $2, %eax       # Número de la syscall para open
    movl $file, %rdi   # Dirección del nombre del archivo
    movl $0, %rsi       # Modo de apertura (sólo lectura)
    xorl %edx, %edx     # Sin permisos adicionales
    syscall

    # Almacenar el descriptor de archivo en fd
    movl %eax, fd

    # Leer el archivo
    movl $0, %eax       # Número de la syscall para read
    movl fd, %edi      # Descriptor de archivo
    movl $.buffer, %rsi # Dirección del buffer
    movl $100, %edx     # Tamaño a leer
    syscall

    # Escribir el buffer en la salida estándar
    mov $1, %eax        # Número de la syscall para write
    mov $1, %rdi        # Descriptor de archivo estándar (salida)
    mov $.buffer, %rsi  # Dirección del buffer
    mov $100, %rdx      # Tamaño a escribir
    syscall

    # Salir
    movl $60, %eax      # Número de la syscall para exit
    xorl %ebx, %ebx     # Código de salida 0
    syscall


