.section .data
    .file: .string "/etc/passwd"
    .buffer: .space 100

.section .bss
    .fd: .skip 4

.section .text
    .globl _start

_start:
    # Abrir el archivo
    movl $5, %eax # Número de la syscall para open
    movl $.file, %ebx # Dirección del nombre del archivo
    movl $0, %ecx # Modo de apertura (sólo lectura)
    syscall

    # Almacenar el descriptor de archivo en fd
    movl %eax, .fd

    # Leer el archivo
    movl $3, %eax # Número de la syscall para read
    movl .fd, %ebx # Descriptor de archivo
    movl $.buffer, %ecx # Dirección del buffer
    movl $100, %edx # Tamaño a leer
    syscall

    # Imprimir el buffer
    movl $4, %eax # Número de la syscall para write
    movl $1, %ebx # Descriptor de archivo estándar (salida)
    movl $.buffer, %ecx # Dirección del buffer
    movl $100, %edx # Tamaño a escribir
    syscall

    # Salir
    movl $1, %eax # Número de la syscall para exit
    xorl %ebx, %ebx # Código de salida 0
    syscall
